<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Form View - Placement Company -->
    <record id="placement_company_view_form" model="ir.ui.view">
        <field name="name">placement.company.view.form</field>
        <field name="model">placement.company</field>
        <field name="arch" type="xml">
            <form string="Placement Company">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button"
                                   options="{'terminology': 'archive'}"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="action_placement_drive" icon="fa-calendar">
                            <field name="total_drives" widget="statinfo" string="Drives"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="action_placement_offer" icon="fa-gift">
                            <field name="total_offers" widget="statinfo" string="Offers"/>
                        </button>
                    </div>

                    <widget name="web_ribbon" title="Blacklisted" bg_color="text-bg-danger"
                            invisible="not is_blacklisted"/>

                    <field name="image_1920" widget="image" class="oe_avatar"
                           options="{'preview_image': 'image_128'}"/>

                    <div class="oe_title">
                        <label for="name" string="Company Name"/>
                        <h1>
                            <field name="name" placeholder="e.g. Tata Consultancy Services"/>
                        </h1>
                    </div>

                    <group>
                        <group string="Company Information">
                            <field name="company_type" widget="radio"/>
                            <field name="industry" widget="radio"/>
                            <field name="rating" widget="priority"/>
                            <field name="website" widget="url" placeholder="https://www.example.com"/>
                        </group>
                        <group string="Contact Details">
                            <field name="phone" widget="phone" placeholder="+91 1234567890"/>
                            <field name="email" widget="email" placeholder="info@company.com"/>
                            <field name="mobile" widget="phone" placeholder="+91 9876543210"/>
                        </group>
                    </group>

                    <group>
                        <group string="Address">
                            <label for="street" string="Address"/>
                            <div class="o_address_format">
                                <field name="street" placeholder="Street..." class="o_address_street"/>
                                <field name="street2" placeholder="Street 2..." class="o_address_street"/>
                                <div class="d-flex">
                                    <field name="city" placeholder="City" class="o_address_city"/>
                                    <field name="state_id" class="o_address_state"
                                           placeholder="State" options="{'no_open': True}"/>
                                    <field name="zip" placeholder="ZIP" class="o_address_zip"/>
                                </div>
                                <field name="country_id" placeholder="Country"
                                       options="{'no_open': True, 'no_create': True}"/>
                            </div>
                        </group>
                        <group string="HR Contact">
                            <field name="hr_contact_name" placeholder="HR Manager Name"/>
                            <field name="hr_contact_email" widget="email"
                                   placeholder="hr@company.com"/>
                            <field name="hr_contact_phone" widget="phone"
                                   placeholder="+91 1234567890"/>
                        </group>
                    </group>

                    <group string="Blacklist Information" invisible="not is_blacklisted">
                        <field name="is_blacklisted"/>
                        <field name="blacklist_reason" nolabel="1"
                               placeholder="Reason for blacklisting..."/>
                    </group>

                    <notebook>
                        <page string="Placement Drives" name="drives">
                            <field name="drive_ids" nolabel="1">
                                <list string="Placement Drives">
                                    <field name="name"/>
                                    <field name="drive_date"/>
                                    <field name="job_title"/>
                                    <field name="ctc_min" widget="monetary"/>
                                    <field name="ctc_max" widget="monetary"/>
                                    <field name="total_applications"/>
                                    <field name="total_offers"/>
                                    <field name="state" widget="badge"/>
                                </list>
                            </field>
                        </page>

                        <page string="Other Information" name="other">
                            <group>
                                <field name="partner_id" invisible="1"/>
                                <field name="vat" placeholder="Tax ID / GST Number"/>
                                <field name="company_registry" placeholder="Company Registration Number"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- List View - Placement Company -->
    <record id="placement_company_view_list" model="ir.ui.view">
        <field name="name">placement.company.view.list</field>
        <field name="model">placement.company</field>
        <field name="arch" type="xml">
            <list string="Placement Companies"
                  default_order="name"
                  multi_edit="1"
                  sample="1"
                  decoration-danger="is_blacklisted">
                <field name="name"/>
                <field name="company_type" optional="show" widget="badge"/>
                <field name="industry" optional="show" widget="badge"/>
                <field name="city" optional="show"/>
                <field name="state_id" optional="hide"/>
                <field name="country_id" optional="hide"/>
                <field name="phone" optional="show" widget="phone"/>
                <field name="email" optional="show"/>
                <field name="website" optional="hide" widget="url"/>
                <field name="hr_contact_name" optional="hide"/>
                <field name="hr_contact_email" optional="hide"/>
                <field name="total_drives" optional="show"/>
                <field name="total_offers" optional="show"/>
                <field name="rating" optional="show" widget="priority"/>
                <field name="is_blacklisted" optional="show" widget="boolean_toggle"/>
                <field name="active" widget="boolean_toggle" optional="hide"/>
            </list>
        </field>
    </record>

    <!-- Search View - Placement Company -->
    <record id="placement_company_view_search" model="ir.ui.view">
        <field name="name">placement.company.view.search</field>
        <field name="model">placement.company</field>
        <field name="arch" type="xml">
            <search string="Search Companies">
                <field name="name"/>
                <field name="city"/>
                <field name="state_id"/>
                <field name="country_id"/>
                <field name="industry"/>
                <field name="company_type"/>

                <separator/>

                <filter name="filter_mnc" string="MNC"
                        domain="[('company_type', '=', 'mnc')]"/>
                <filter name="filter_corporate" string="Corporate"
                        domain="[('company_type', '=', 'corporate')]"/>
                <filter name="filter_startup" string="Startup"
                        domain="[('company_type', '=', 'startup')]"/>
                <filter name="filter_psu" string="PSU"
                        domain="[('company_type', '=', 'psu')]"/>
                <filter name="filter_government" string="Government"
                        domain="[('company_type', '=', 'government')]"/>

                <separator/>

                <filter name="filter_it" string="IT/Software"
                        domain="[('industry', '=', 'it')]"/>
                <filter name="filter_core" string="Core Engineering"
                        domain="[('industry', '=', 'core')]"/>
                <filter name="filter_finance" string="Finance/Banking"
                        domain="[('industry', '=', 'finance')]"/>
                <filter name="filter_consulting" string="Consulting"
                        domain="[('industry', '=', 'consulting')]"/>
                <filter name="filter_manufacturing" string="Manufacturing"
                        domain="[('industry', '=', 'manufacturing')]"/>

                <separator/>

                <filter name="filter_5star" string="5 Star"
                        domain="[('rating', '=', '5')]"/>
                <filter name="filter_4star" string="4 Star"
                        domain="[('rating', '=', '4')]"/>
                <filter name="filter_3star" string="3 Star"
                        domain="[('rating', '=', '3')]"/>

                <separator/>

                <filter name="filter_blacklisted" string="Blacklisted"
                        domain="[('is_blacklisted', '=', True)]"/>
                <filter name="filter_not_blacklisted" string="Not Blacklisted"
                        domain="[('is_blacklisted', '=', False)]"/>

                <separator/>

                <filter name="filter_has_drives" string="Has Drives"
                        domain="[('total_drives', '&gt;', 0)]"/>
                <filter name="filter_no_drives" string="No Drives"
                        domain="[('total_drives', '=', 0)]"/>

                <group expand="0" string="Group By">
                    <filter name="group_by_company_type" string="Company Type"
                            context="{'group_by': 'company_type'}"/>
                    <filter name="group_by_industry" string="Industry"
                            context="{'group_by': 'industry'}"/>
                    <filter name="group_by_rating" string="Rating"
                            context="{'group_by': 'rating'}"/>
                    <filter name="group_by_city" string="City"
                            context="{'group_by': 'city'}"/>
                    <filter name="group_by_state" string="State"
                            context="{'group_by': 'state_id'}"/>
                    <filter name="group_by_country" string="Country"
                            context="{'group_by': 'country_id'}"/>
                </group>

                <searchpanel>
                    <field name="company_type" string="Company Type"
                           select="multi"
                           icon="fa-building"/>
                    <field name="industry" string="Industry"
                           select="multi"
                           icon="fa-industry"/>
                    <field name="rating" string="Rating"
                           select="multi"
                           icon="fa-star"/>
                    <field name="country_id" string="Country"
                           select="multi"
                           icon="fa-globe"/>
                </searchpanel>
            </search>
        </field>
    </record>

    <!-- Kanban View - Placement Company -->
    <record id="placement_company_view_kanban" model="ir.ui.view">
        <field name="name">placement.company.view.kanban</field>
        <field name="model">placement.company</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile"
                    quick_create="false"
                    sample="1">
                <field name="id"/>
                <field name="name"/>
                <field name="company_type"/>
                <field name="industry"/>
                <field name="city"/>
                <field name="state_id"/>
                <field name="country_id"/>
                <field name="phone"/>
                <field name="email"/>
                <field name="website"/>
                <field name="hr_contact_name"/>
                <field name="hr_contact_email"/>
                <field name="hr_contact_phone"/>
                <field name="total_drives"/>
                <field name="total_offers"/>
                <field name="rating"/>
                <field name="is_blacklisted"/>
                <field name="active"/>
                <field name="image_128"/>

                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_card oe_kanban_global_click">
                            <div class="ribbon ribbon-top-right" t-if="!record.active.raw_value">
                                <span class="text-bg-danger">Archived</span>
                            </div>
                            <div class="ribbon ribbon-top-right" t-if="record.is_blacklisted.raw_value and record.active.raw_value">
                                <span class="text-bg-danger">Blacklisted</span>
                            </div>

                            <div class="oe_kanban_content">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <div class="d-flex align-items-center mb-2">
                                            <img t-att-src="kanban_image('placement.company', 'image_128', record.id.raw_value)"
                                                 class="o_kanban_image o_image_64_cover me-3"
                                                 alt="Company Logo"/>
                                            <div class="flex-grow-1">
                                                <strong class="o_kanban_record_title">
                                                    <field name="name"/>
                                                </strong>
                                                <div class="text-muted" t-if="record.city.raw_value or record.state_id.raw_value">
                                                    <i class="fa fa-map-marker"/>
                                                    <field name="city"/> <t t-if="record.state_id.raw_value">, <field name="state_id"/></t>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="o_kanban_record_body mt-3">
                                    <div class="row mb-2">
                                        <div class="col-6" t-if="record.company_type.raw_value">
                                            <div class="card bg-primary text-white">
                                                <div class="card-body p-2 text-center">
                                                    <span class="badge bg-light text-primary">
                                                        <field name="company_type"/>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-6" t-if="record.industry.raw_value">
                                            <div class="card bg-info text-white">
                                                <div class="card-body p-2 text-center">
                                                    <span class="badge bg-light text-info">
                                                        <field name="industry"/>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.rating.raw_value">
                                        <div class="col-12">
                                            <div class="card bg-warning text-white">
                                                <div class="card-body p-2 text-center">
                                                    <div>
                                                        <i class="fa fa-star"/> Rating
                                                    </div>
                                                    <h5 class="mb-0">
                                                        <field name="rating"/>
                                                        <t t-if="record.rating.raw_value == '1'">⭐</t>
                                                        <t t-if="record.rating.raw_value == '2'">⭐⭐</t>
                                                        <t t-if="record.rating.raw_value == '3'">⭐⭐⭐</t>
                                                        <t t-if="record.rating.raw_value == '4'">⭐⭐⭐⭐</t>
                                                        <t t-if="record.rating.raw_value == '5'">⭐⭐⭐⭐⭐</t>
                                                    </h5>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2">
                                        <div class="col-6">
                                            <div class="bg-light p-2 rounded text-center">
                                                <div class="text-primary">
                                                    <i class="fa fa-calendar fa-lg"/>
                                                </div>
                                                <h6 class="mb-0"><field name="total_drives"/></h6>
                                                <small class="text-muted">Drives</small>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="bg-light p-2 rounded text-center">
                                                <div class="text-success">
                                                    <i class="fa fa-gift fa-lg"/>
                                                </div>
                                                <h6 class="mb-0"><field name="total_offers"/></h6>
                                                <small class="text-muted">Offers</small>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.phone.raw_value or record.email.raw_value">
                                        <div class="col-12">
                                            <div class="card bg-secondary text-white">
                                                <div class="card-body p-2">
                                                    <h6 class="mb-1">
                                                        <i class="fa fa-address-book"/> Contact
                                                    </h6>
                                                    <small t-if="record.phone.raw_value">
                                                        <i class="fa fa-phone"/> <field name="phone"/>
                                                    </small><br t-if="record.phone.raw_value and record.email.raw_value"/>
                                                    <small t-if="record.email.raw_value">
                                                        <i class="fa fa-envelope"/> <field name="email"/>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.hr_contact_name.raw_value">
                                        <div class="col-12">
                                            <div class="card bg-success text-white">
                                                <div class="card-body p-2">
                                                    <h6 class="mb-1">
                                                        <i class="fa fa-user-tie"/> HR Contact
                                                    </h6>
                                                    <small><field name="hr_contact_name"/></small><br/>
                                                    <small t-if="record.hr_contact_email.raw_value">
                                                        <i class="fa fa-envelope"/> <field name="hr_contact_email"/>
                                                    </small><br t-if="record.hr_contact_email.raw_value and record.hr_contact_phone.raw_value"/>
                                                    <small t-if="record.hr_contact_phone.raw_value">
                                                        <i class="fa fa-phone"/> <field name="hr_contact_phone"/>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.website.raw_value">
                                        <div class="col-12">
                                            <div class="card bg-dark text-white">
                                                <div class="card-body p-2 text-center">
                                                    <small>
                                                        <i class="fa fa-globe"/> <field name="website" widget="url"/>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="o_kanban_record_bottom mt-2">
                                    <div class="oe_kanban_bottom_right">
                                        <field name="activity_ids" widget="kanban_activity"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Pivot View - Placement Company -->
    <record id="placement_company_view_pivot" model="ir.ui.view">
        <field name="name">placement.company.view.pivot</field>
        <field name="model">placement.company</field>
        <field name="arch" type="xml">
            <pivot string="Company Analysis">
                <field name="industry" type="row"/>
                <field name="company_type" type="col"/>
                <field name="total_drives" type="measure"/>
                <field name="total_offers" type="measure"/>
            </pivot>
        </field>
    </record>

    <!-- Graph View - Placement Company -->
    <record id="placement_company_view_graph" model="ir.ui.view">
        <field name="name">placement.company.view.graph</field>
        <field name="model">placement.company</field>
        <field name="arch" type="xml">
            <graph string="Company Statistics" type="bar">
                <field name="industry"/>
                <field name="total_offers" type="measure"/>
            </graph>
        </field>
    </record>

    <!-- Action -->
    <record id="action_placement_company" model="ir.actions.act_window">
        <field name="name">Companies</field>
        <field name="res_model">placement.company</field>
        <field name="view_mode">kanban,list,form,pivot,graph</field>
        <field name="context">{'search_default_filter_not_blacklisted': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Add Placement Company
            </p>
            <p>
                Manage placement companies visiting campus. Model integrates with res.partner using
                _inherits pattern for contact details. Select partner_id (Many2one to res.partner,
                required, cascade delete, auto_join). System inherits partner fields: name (company
                name), phone, email, mobile, website, street/street2/city/state_id/zip/country_id
                (address), vat (Tax ID/GST), company_registry, image_1920/image_128 (company logo).
                Select company_type (5 options, tracked, radio widget): mnc (MNC - multinational
                corporation), corporate (Corporate - large company), startup (Startup - new company),
                psu (PSU - public sector), government (Government - govt organization). Select industry
                (9 options, tracked, radio widget): it (IT/Software), core (Core Engineering), finance
                (Finance/Banking), consulting (Consulting), manufacturing (Manufacturing), healthcare
                (Healthcare), education (Education), retail (Retail), other (Other). Enter HR contact
                details: hr_contact_name (char, placeholder "HR Manager Name"), hr_contact_email (char,
                email widget, placeholder "hr@company.com"), hr_contact_phone (char, phone widget,
                placeholder "+91 1234567890"). View placement history: drive_ids (One2many to
                placement.drive, shows: name/drive_date/job_title/package/total_applications/
                total_offers/state). View computed stats: total_drives (integer, computed, count
                drive_ids), total_offers (integer, computed, sum drive_ids.mapped('total_offers')).
                Select rating (5 options, priority widget): 1 (1 Star), 2 (2 Stars), 3 (3 Stars), 4 (4
                Stars), 5 (5 Stars). Manage blacklist: is_blacklisted (boolean, tracked, toggle widget),
                blacklist_reason (text, visible if blacklisted, placeholder). Toggle active boolean
                (default true, archive button). Form view button box has 3 stat buttons: Archive (top
                stat button, archive icon), Total Drives (calendar icon, statinfo widget), Total Offers
                (gift icon, statinfo widget). Web ribbon displays "Blacklisted" (danger/red background)
                if is_blacklisted. Company logo (image_1920, image widget, avatar style, preview
                image_128). Address displayed in Odoo o_address_format div (street/street2/city/
                state_id/zip/country_id fields). Notebook has 2 pages: Placement Drives (drive_ids list
                showing 7 fields with badge state widget), Other Information (partner_id invisible, vat
                placeholder "Tax ID / GST Number", company_registry placeholder "Company Registration
                Number"). List view with 1-color row decoration: Danger/Red (is_blacklisted). Badge
                widgets for company_type and industry. Phone widget for phone fields, URL widget for
                website, boolean_toggle for is_blacklisted/active, priority widget for rating. Kanban
                view showing company logo (image_128, 64px cover), company name, city/state (map-marker
                icon), company_type badge (primary/blue), industry badge (info), rating card (warning/
                yellow, star icon, displays star emojis based on rating value 1-5), drives/offers cards
                (2 cards 6/6 grid: drives calendar icon primary, offers gift icon success), contact card
                (secondary/gray, address-book icon, shows phone/email conditionally), HR contact card
                (success/green, user-tie icon, shows name/email/phone conditionally), and website card
                (dark/black, globe icon, URL widget). Kanban has 2 ribbons: "Archived" (danger/red, if
                not active) and "Blacklisted" (danger/red, if blacklisted and active). Pivot view for
                analysis (industry × company_type matrix, measures: total_drives/total_offers). Graph
                view for statistics (bar chart, industry vs. total_offers). Ordered by name
                (alphabetical). Default filter: Not Blacklisted companies. Full chatter support for
                communication and tracking.
            </p>
        </field>
    </record>

    <!-- Menu Item -->
<!--    <menuitem id="menu_placement_company"-->
<!--              name="Companies"-->
<!--              parent="menu_placement_root"-->
<!--              action="action_placement_company"-->
<!--              sequence="10"/>-->

</odoo>
