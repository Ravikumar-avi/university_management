<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Form View - Alumni -->
    <record id="alumni_view_form" model="ir.ui.view">
        <field name="name">alumni.alumni.view.form</field>
        <field name="model">alumni.alumni</field>
        <field name="arch" type="xml">
            <form string="Alumni">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button"
                                   options="{'terminology': 'archive'}"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="action_alumni_achievement" icon="fa-trophy">
                            <field name="achievement_ids" widget="statinfo" string="Achievements"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="action_alumni_donation" icon="fa-money">
                            <field name="total_donations" widget="statinfo" string="Total Donations"/>
                        </button>
                    </div>

                    <field name="photo" widget="image" class="oe_avatar"
                           options="{'preview_image': 'photo', 'size': [128, 128]}"/>

                    <div class="oe_title">
                        <label for="name" string="Alumni Name"/>
                        <h1>
                            <field name="name" placeholder="Full Name" required="1"/>
                        </h1>
                        <div>
                            <field name="registration_number" placeholder="Registration Number"/>
                        </div>
                    </div>

                    <group>
                        <group string="Academic Details">
                            <field name="program_id"
                                   options="{'no_create': True, 'no_create_edit': True}"/>
                            <field name="department_id"/>
                            <field name="batch_id"/>
                            <field name="admission_year" placeholder="e.g. 2018"/>
                            <field name="graduation_year" placeholder="e.g. 2022"/>
                        </group>
                        <group string="Academic Performance">
                            <field name="cgpa" widget="float"/>
                            <field name="final_percentage" widget="float"/>
                        </group>
                    </group>

                    <group>
                        <group string="Contact Information">
                            <field name="email" widget="email" placeholder="email@example.com"/>
                            <field name="phone" widget="phone" placeholder="+91 9876543210"/>
                            <field name="mobile" widget="phone" placeholder="+91 9876543210"/>
                        </group>
                        <group string="Address">
                            <field name="street" placeholder="Street Address"/>
                            <field name="street2" placeholder="Street Address 2"/>
                            <field name="city" placeholder="City"/>
                            <field name="state_id"/>
                            <field name="zip" placeholder="PIN Code"/>
                            <field name="country_id"/>
                        </group>
                    </group>

                    <notebook>
                        <page string="Employment" name="employment">
                            <group>
                                <group string="Current Employment Status">
                                    <field name="is_employed"/>
                                    <field name="current_company" placeholder="e.g. Tata Consultancy Services"
                                           invisible="not is_employed"/>
                                    <field name="current_designation" placeholder="e.g. Senior Software Engineer"
                                           invisible="not is_employed"/>
                                    <field name="current_location" placeholder="e.g. Bangalore, Karnataka"
                                           invisible="not is_employed"/>
                                    <field name="industry" invisible="not is_employed"/>
                                    <field name="annual_ctc" widget="monetary"
                                           invisible="not is_employed"/>
                                    <field name="currency_id" invisible="1"/>
                                </group>
                            </group>
                        </page>

                        <page string="Higher Education" name="higher_education">
                            <group>
                                <group string="Higher Studies">
                                    <field name="pursuing_higher_education"/>
                                    <field name="higher_education_details"
                                           placeholder="Enter details about higher education (University, Degree, Year, etc.)"
                                           invisible="not pursuing_higher_education"/>
                                </group>
                            </group>
                        </page>

                        <page string="Social Media" name="social_media">
                            <group>
                                <group string="Social Media Profiles">
                                    <field name="linkedin_profile" placeholder="https://linkedin.com/in/username"
                                           widget="url"/>
                                    <field name="twitter_handle" placeholder="@username"/>
                                    <field name="facebook_profile" placeholder="https://facebook.com/username"
                                           widget="url"/>
                                </group>
                            </group>
                        </page>

                        <page string="Achievements" name="achievements">
                            <field name="achievement_ids" nolabel="1">
                                <list string="Achievements">
                                    <field name="alumni_name"/>
                                    <field name="achievement_type"/>
                                    <field name="achievement_date"/>
                                    <field name="organization"/>
                                    <field name="description"/>
                                </list>
                            </field>
                        </page>

                        <page string="Events Attended" name="events">
                            <field name="event_registration_ids" nolabel="1">
                                <list string="Alumni Events">
                                    <field name="name"/>
                                    <field name="event_type"/>
                                    <field name="start"/>
                                    <field name="venue_details"/>
                                    <field name="total_registrations"/>
                                </list>
                            </field>
                        </page>

                        <page string="Donations" name="donations">
                            <field name="donation_ids" nolabel="1">
                                <list string="Donations">
                                    <field name="name"/>
                                    <field name="donation_date"/>
                                    <field name="amount" widget="monetary"/>
                                    <field name="donation_purpose"/>
                                    <field name="purpose_description"/>
                                    <field name="payment_method"/>
                                </list>
                            </field>
                        </page>

                        <page string="Mentorship" name="mentorship">
                            <group>
                                <group string="Student Mentorship">
                                    <field name="willing_to_mentor"/>
                                    <field name="mentorship_area"
                                           placeholder="Describe your area of expertise and how you can help students..."
                                           invisible="not willing_to_mentor"/>
                                </group>
                            </group>
                        </page>

                        <page string="Portal Access" name="portal">
                            <group>
                                <group string="Portal User">
                                    <field name="user_id"/>
                                    <field name="student_id"/>
                                </group>
                            </group>
                        </page>
                    </notebook>

                    <field name="partner_id" invisible="1"/>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- List View - Alumni -->
    <record id="alumni_view_list" model="ir.ui.view">
        <field name="name">alumni.alumni.view.list</field>
        <field name="model">alumni.alumni</field>
        <field name="arch" type="xml">
            <list string="Alumni"
                  default_order="graduation_year desc, name"
                  multi_edit="1"
                  sample="1">
                <field name="name"/>
                <field name="registration_number" optional="show"/>
                <field name="program_id"/>
                <field name="department_id" optional="show"/>
                <field name="graduation_year"/>
                <field name="cgpa" optional="hide"/>
                <field name="is_employed" widget="boolean_toggle" optional="show"/>
                <field name="current_company" optional="show"/>
                <field name="current_designation" optional="hide"/>
                <field name="industry" optional="hide" widget="badge"/>
                <field name="email" optional="show" widget="email"/>
                <field name="phone" optional="hide" widget="phone"/>
                <field name="total_donations" optional="show" widget="monetary"/>
                <field name="willing_to_mentor" widget="boolean_toggle" optional="hide"/>
                <field name="active" widget="boolean_toggle" optional="hide"/>
            </list>
        </field>
    </record>

    <!-- Search View - Alumni -->
    <record id="alumni_view_search" model="ir.ui.view">
        <field name="name">alumni.alumni.view.search</field>
        <field name="model">alumni.alumni</field>
        <field name="arch" type="xml">
            <search string="Search Alumni">
                <field name="name"/>
                <field name="registration_number"/>
                <field name="email"/>
                <field name="phone"/>
                <field name="program_id"/>
                <field name="department_id"/>
                <field name="current_company"/>
                <field name="graduation_year"/>

                <separator/>

                <filter name="filter_employed" string="Currently Employed"
                        domain="[('is_employed', '=', True)]"/>
                <filter name="filter_unemployed" string="Not Employed"
                        domain="[('is_employed', '=', False)]"/>

                <separator/>

                <filter name="filter_higher_education" string="Pursuing Higher Education"
                        domain="[('pursuing_higher_education', '=', True)]"/>

                <separator/>

                <filter name="filter_mentors" string="Willing to Mentor"
                        domain="[('willing_to_mentor', '=', True)]"/>

                <separator/>

                <filter name="filter_donors" string="Has Donated"
                        domain="[('total_donations', '&gt;', 0)]"/>

                <separator/>

                <filter name="filter_it" string="IT/Software"
                        domain="[('industry', '=', 'it')]"/>
                <filter name="filter_core" string="Core Engineering"
                        domain="[('industry', '=', 'core')]"/>
                <filter name="filter_finance" string="Finance/Banking"
                        domain="[('industry', '=', 'finance')]"/>
                <filter name="filter_consulting" string="Consulting"
                        domain="[('industry', '=', 'consulting')]"/>

                <separator/>

                <filter name="filter_recent_graduates" string="Recent Graduates (Last 5 Years)"
                        domain="[('graduation_year', '&gt;=', (datetime.datetime.now().year - 5))]"/>
                <filter name="filter_this_decade" string="This Decade"
                        domain="[('graduation_year', '&gt;=', 2020)]"/>

                <separator/>

                <filter name="filter_active" string="Active"
                        domain="[('active', '=', True)]"/>
                <filter name="filter_inactive" string="Inactive"
                        domain="[('active', '=', False)]"/>

                <group expand="0" string="Group By">
                    <filter name="group_by_program" string="Program"
                            context="{'group_by': 'program_id'}"/>
                    <filter name="group_by_department" string="Department"
                            context="{'group_by': 'department_id'}"/>
                    <filter name="group_by_graduation_year" string="Graduation Year"
                            context="{'group_by': 'graduation_year'}"/>
                    <filter name="group_by_industry" string="Industry"
                            context="{'group_by': 'industry'}"/>
                    <filter name="group_by_company" string="Current Company"
                            context="{'group_by': 'current_company'}"/>
                </group>

                <searchpanel>
                    <field name="program_id" string="Program"
                           select="multi"
                           icon="fa-graduation-cap"/>
                    <field name="industry" string="Industry"
                           select="multi"
                           icon="fa-industry"/>
                </searchpanel>
            </search>
        </field>
    </record>

    <!-- Kanban View - Alumni -->
    <record id="alumni_view_kanban" model="ir.ui.view">
        <field name="name">alumni.alumni.view.kanban</field>
        <field name="model">alumni.alumni</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile"
                    quick_create="false"
                    sample="1">
                <field name="id"/>
                <field name="name"/>
                <field name="registration_number"/>
                <field name="photo"/>
                <field name="program_id"/>
                <field name="department_id"/>
                <field name="graduation_year"/>
                <field name="cgpa"/>
                <field name="is_employed"/>
                <field name="current_company"/>
                <field name="current_designation"/>
                <field name="industry"/>
                <field name="email"/>
                <field name="phone"/>
                <field name="total_donations"/>
                <field name="willing_to_mentor"/>
                <field name="active"/>

                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_card oe_kanban_global_click">
                            <div class="ribbon ribbon-top-right" t-if="!record.active.raw_value">
                                <span class="text-bg-danger">Archived</span>
                            </div>

                            <div class="oe_kanban_content">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <div class="d-flex align-items-center mb-2">
                                            <img t-att-src="kanban_image('alumni.alumni', 'photo', record.id.raw_value)"
                                                 class="o_kanban_image o_image_64_cover me-3"
                                                 alt="Alumni Photo"/>
                                            <div class="flex-grow-1">
                                                <strong class="o_kanban_record_title">
                                                    <i class="fa fa-user-graduate"/> <field name="name"/>
                                                </strong>
                                                <div class="text-muted" t-if="record.registration_number.raw_value">
                                                    <small><field name="registration_number"/></small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="o_kanban_record_body mt-3">
                                    <div class="row mb-2">
                                        <div class="col-12">
                                            <div class="card bg-primary text-white">
                                                <div class="card-body p-2">
                                                    <h6 class="mb-0">
                                                        <i class="fa fa-graduation-cap"/> <field name="program_id"/>
                                                    </h6>
                                                    <small t-if="record.department_id.raw_value">
                                                        <i class="fa fa-sitemap"/> <field name="department_id"/>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2">
                                        <div class="col-6">
                                            <div class="bg-light p-2 rounded text-center">
                                                <div class="text-info">
                                                    <i class="fa fa-calendar fa-lg"/>
                                                </div>
                                                <small class="text-muted">Graduation</small>
                                                <h6 class="mb-0"><field name="graduation_year"/></h6>
                                            </div>
                                        </div>
                                        <div class="col-6" t-if="record.cgpa.raw_value">
                                            <div class="bg-light p-2 rounded text-center">
                                                <div class="text-success">
                                                    <i class="fa fa-star fa-lg"/>
                                                </div>
                                                <small class="text-muted">CGPA</small>
                                                <h6 class="mb-0"><field name="cgpa"/></h6>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.is_employed.raw_value">
                                        <div class="col-12">
                                            <div class="card bg-success text-white">
                                                <div class="card-body p-2">
                                                    <h6 class="mb-0">
                                                        <i class="fa fa-briefcase"/> <field name="current_company"/>
                                                    </h6>
                                                    <small t-if="record.current_designation.raw_value">
                                                        <field name="current_designation"/>
                                                    </small><br t-if="record.industry.raw_value"/>
                                                    <small t-if="record.industry.raw_value">
                                                        <i class="fa fa-industry"/> <field name="industry"/>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="!record.is_employed.raw_value">
                                        <div class="col-12">
                                            <div class="alert alert-warning mb-0 p-2 text-center">
                                                <small>
                                                    <i class="fa fa-info-circle"/> Not Currently Employed
                                                </small>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.email.raw_value or record.phone.raw_value">
                                        <div class="col-12">
                                            <div class="card bg-secondary text-white">
                                                <div class="card-body p-2">
                                                    <h6 class="mb-1">
                                                        <i class="fa fa-address-book"/> Contact
                                                    </h6>
                                                    <small t-if="record.email.raw_value">
                                                        <i class="fa fa-envelope"/> <field name="email"/>
                                                    </small><br t-if="record.email.raw_value and record.phone.raw_value"/>
                                                    <small t-if="record.phone.raw_value">
                                                        <i class="fa fa-phone"/> <field name="phone"/>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.total_donations.raw_value &gt; 0">
                                        <div class="col-12">
                                            <div class="card bg-warning text-white">
                                                <div class="card-body p-2 text-center">
                                                    <h6 class="mb-0">
                                                        <i class="fa fa-money"/> Donated: <field name="total_donations"/>
                                                    </h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-2" t-if="record.willing_to_mentor.raw_value">
                                        <div class="col-12">
                                            <div class="alert alert-info mb-0 p-2 text-center">
                                                <small>
                                                    <i class="fa fa-handshake-o"/> Willing to Mentor Students
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="o_kanban_record_bottom mt-2">
                                    <div class="oe_kanban_bottom_right">
                                        <field name="activity_ids" widget="kanban_activity"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Pivot View - Alumni -->
    <record id="alumni_view_pivot" model="ir.ui.view">
        <field name="name">alumni.alumni.view.pivot</field>
        <field name="model">alumni.alumni</field>
        <field name="arch" type="xml">
            <pivot string="Alumni Analysis">
                <field name="graduation_year" type="row"/>
                <field name="program_id" type="col"/>
                <field name="cgpa" type="measure"/>
                <field name="total_donations" type="measure"/>
            </pivot>
        </field>
    </record>

    <!-- Graph View - Alumni -->
    <record id="alumni_view_graph" model="ir.ui.view">
        <field name="name">alumni.alumni.view.graph</field>
        <field name="model">alumni.alumni</field>
        <field name="arch" type="xml">
            <graph string="Alumni Statistics" type="bar">
                <field name="graduation_year"/>
                <field name="program_id"/>
            </graph>
        </field>
    </record>

    <!-- Action -->
    <record id="action_alumni" model="ir.actions.act_window">
        <field name="name">Alumni</field>
        <field name="res_model">alumni.alumni</field>
        <field name="view_mode">kanban,list,form,pivot,graph</field>
        <field name="context">{'search_default_filter_active': 1, 'search_default_group_by_graduation_year': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Add Alumni Record
            </p>
            <p>
                Manage alumni database with complete profile information. Enter name (required, from
                res.partner via _inherits pattern), registration_number (char, optional). Upload photo
                (binary, attachment, displayed as avatar image widget 128x128). Enter academic details:
                program_id (Many2one to university.program, required, no-create), department_id (Many2one
                to university.department), batch_id (Many2one to university.batch), admission_year
                (integer, placeholder "2018"), graduation_year (integer, required, indexed, placeholder
                "2022"). Enter academic performance: cgpa (float, float widget), final_percentage (float,
                float widget). Contact information auto-inherited from res.partner: email (email widget,
                placeholder), phone (phone widget, placeholder), mobile (phone widget, placeholder),
                address fields (street/street2/city/state_id/zip/country_id). Enter employment status:
                is_employed (boolean, default true), current_company (char, placeholder "Tata Consultancy
                Services", invisible if not employed), current_designation (char, placeholder "Senior
                Software Engineer", invisible if not employed), current_location (char, placeholder
                "Bangalore, Karnataka", invisible if not employed), industry (10 options: it/core/finance/
                consulting/manufacturing/healthcare/education/government/business/other, invisible if not
                employed), annual_ctc (monetary LPA, monetary widget, invisible if not employed),
                currency_id (Many2one to res.currency, invisible, default company currency). Enter higher
                education: pursuing_higher_education (boolean), higher_education_details (text,
                placeholder "Enter details about higher education (University, Degree, Year, etc.)",
                invisible if not pursuing_higher_education). Enter social media: linkedin_profile (char,
                url widget, placeholder "https://linkedin.com/in/username"), twitter_handle (char,
                placeholder "@username"), facebook_profile (char, url widget, placeholder
                "https://facebook.com/username"). View achievement_ids (One2many to alumni.achievement,
                shows 5 fields: name/achievement_type/achievement_date/organization/description). View
                event_registration_ids (Many2many to alumni.event, shows 5 fields: name/event_type/
                event_date/venue/total_attendees). View donation_ids (One2many to alumni.donation, shows
                6 fields: name/donation_date/amount monetary/donation_type/purpose/payment_mode). View
                total_donations (monetary, computed, sum of donation_ids.amount). Enter mentorship:
                willing_to_mentor (boolean), mentorship_area (text, placeholder "Describe your area of
                expertise and how you can help students...", invisible if not willing_to_mentor). Portal
                access: user_id (Many2one to res.users), student_id (Many2one to student.student). Toggle
                active (boolean, default true, archive button). Form view button box has 3 stat buttons:
                Archive (archive icon, boolean_button widget), Achievements (trophy icon, statinfo), Total
                Donations (money icon, statinfo). List view with boolean toggles for is_employed/
                willing_to_mentor/active, email widget, phone widget, monetary widget for total_donations,
                badge widget for industry. Kanban view showing alumni photo (64px cover, inherited from
                res.partner photo field via partner_id), alumni name (user-graduate icon), registration
                number (small, conditional), program card (primary/blue, graduation-cap icon, shows
                program_id and department_id), graduation/cgpa cards (2 cards 6/6 grid: graduation_year
                info calendar icon, cgpa success star icon conditional), employment card (success/green,
                briefcase icon, shows current_company/current_designation/industry, conditional if
                employed), not employed alert (warning/yellow, info-circle icon, conditional if not
                employed), contact card (secondary/gray, address-book icon, shows email/phone
                conditional), donations card (warning/yellow, money icon, centered, shows total_donations,
                conditional if > 0), mentor alert (info/blue, handshake icon, conditional if
                willing_to_mentor), archived ribbon (danger/red, top-right, conditional if not active).
                Pivot view for analysis (graduation_year Ã— program_id matrix, measures: cgpa/
                total_donations). Graph view for statistics (bar chart, graduation_year vs. program_id).
                Ordered by graduation_year desc (most recent first), then name. Default filters: Active
                alumni and Grouped by Graduation Year. Full chatter and portal support for alumni access.
            </p>
        </field>
    </record>

    <!-- Menu Item -->
<!--    <menuitem id="menu_alumni_root"-->
<!--              name="Alumni"-->
<!--              sequence="60"/>-->
<!--    -->
<!--    <menuitem id="menu_alumni"-->
<!--              name="Alumni Database"-->
<!--              parent="menu_alumni_root"-->
<!--              action="action_alumni"-->
<!--              sequence="10"/>-->

</odoo>
