<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Contact Us Page -->
    <template id="contact_page" name="Contact Page">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <div class="container mt-4">
                    <!-- Page Header -->
                    <div class="row mb-5">
                        <div class="col-12 text-center">
                            <h1 class="display-4">
                                <i class="fa fa-envelope-open-text me-2"></i>
                                Contact Us
                            </h1>
                            <p class="lead text-muted">
                                Get in touch with us. We'd love to hear from you.
                            </p>
                        </div>
                    </div>

                    <div class="row">
                        <!-- Contact Form -->
                        <div class="col-lg-7 mb-4">
                            <div class="card shadow-sm">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">
                                        <i class="fa fa-paper-plane me-2"></i>
                                        Send us a Message
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <form action="/contact/submit" method="post" id="contact-form">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label for="name" class="form-label">
                                                    <i class="fa fa-user text-primary me-1"></i>
                                                    Full Name *
                                                </label>
                                                <input type="text"
                                                       class="form-control"
                                                       id="name"
                                                       name="name"
                                                       required="required"
                                                       placeholder="Enter your full name"/>
                                                <div class="invalid-feedback">
                                                    Please provide your name.
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="email" class="form-label">
                                                    <i class="fa fa-envelope text-primary me-1"></i>
                                                    Email Address *
                                                </label>
                                                <input type="email"
                                                       class="form-control"
                                                       id="email"
                                                       name="email"
                                                       required="required"
                                                       placeholder="Enter your email address"/>
                                                <div class="invalid-feedback">
                                                    Please provide a valid email address.
                                                </div>
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="phone" class="form-label">
                                                <i class="fa fa-phone text-primary me-1"></i>
                                                Phone Number
                                            </label>
                                            <input type="tel"
                                                   class="form-control"
                                                   id="phone"
                                                   name="phone"
                                                   placeholder="Enter your phone number (optional)"/>
                                        </div>

                                        <div class="mb-3">
                                            <label for="subject" class="form-label">
                                                <i class="fa fa-tag text-primary me-1"></i>
                                                Subject *
                                            </label>
                                            <select class="form-select" id="subject" name="subject" required="required">
                                                <option value="" selected="selected" disabled="disabled">Select a subject</option>
                                                <option value="admission">Admission Inquiry</option>
                                                <option value="academic">Academic Questions</option>
                                                <option value="fee">Fee Related</option>
                                                <option value="technical">Technical Support</option>
                                                <option value="general">General Inquiry</option>
                                                <option value="feedback">Feedback/Suggestion</option>
                                                <option value="other">Other</option>
                                            </select>
                                            <div class="invalid-feedback">
                                                Please select a subject.
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="description" class="form-label">
                                                <i class="fa fa-comment-dots text-primary me-1"></i>
                                                Message *
                                            </label>
                                            <textarea class="form-control"
                                                      id="description"
                                                      name="description"
                                                      rows="5"
                                                      required="required"
                                                      placeholder="Enter your message here..."></textarea>
                                            <div class="invalid-feedback">
                                                Please enter your message.
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="newsletter" name="newsletter" value="true"/>
                                                <label class="form-check-label" for="newsletter">
                                                    Subscribe to our newsletter for updates
                                                </label>
                                            </div>
                                        </div>

                                        <div class="d-grid">
                                            <button type="submit" class="btn btn-primary btn-lg">
                                                <i class="fa fa-paper-plane me-2"></i>
                                                Send Message
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <!-- Contact Information -->
                        <div class="col-lg-5">
                            <div class="card shadow-sm mb-4">
                                <div class="card-header bg-info text-white">
                                    <h5 class="mb-0">
                                        <i class="fa fa-info-circle me-2"></i>
                                        Contact Information
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex mb-4">
                                        <div class="flex-shrink-0">
                                            <i class="fa fa-map-marker-alt fa-2x text-danger"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Address</h6>
                                            <p class="text-muted mb-0">
                                                University Campus<br/>
                                                123 Education Street<br/>
                                                Knowledge City, State 12345<br/>
                                                Country
                                            </p>
                                        </div>
                                    </div>

                                    <div class="d-flex mb-4">
                                        <div class="flex-shrink-0">
                                            <i class="fa fa-phone fa-2x text-success"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Phone Numbers</h6>
                                            <p class="text-muted mb-0">
                                                <strong>Admission:</strong> +1 (123) 456-7890<br/>
                                                <strong>General:</strong> +1 (123) 456-7891<br/>
                                                <strong>Emergency:</strong> +1 (123) 456-7899
                                            </p>
                                        </div>
                                    </div>

                                    <div class="d-flex mb-4">
                                        <div class="flex-shrink-0">
                                            <i class="fa fa-envelope fa-2x text-primary"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Email Addresses</h6>
                                            <p class="text-muted mb-0">
                                                <strong>Admission:</strong> admission@university.edu<br/>
                                                <strong>General:</strong> info@university.edu<br/>
                                                <strong>Support:</strong> support@university.edu
                                            </p>
                                        </div>
                                    </div>

                                    <div class="d-flex">
                                        <div class="flex-shrink-0">
                                            <i class="fa fa-clock fa-2x text-warning"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h6 class="mb-1">Office Hours</h6>
                                            <p class="text-muted mb-0">
                                                <strong>Monday - Friday:</strong> 9:00 AM - 5:00 PM<br/>
                                                <strong>Saturday:</strong> 10:00 AM - 2:00 PM<br/>
                                                <strong>Sunday:</strong> Closed
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ/Quick Links -->
                            <div class="card shadow-sm">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0">
                                        <i class="fa fa-question-circle me-2"></i>
                                        Quick Links
                                    </h5>
                                </div>
                                <div class="card-body">
                                    <div class="list-group list-group-flush">
                                        <a href="/admissions" class="list-group-item list-group-item-action">
                                            <i class="fa fa-graduation-cap text-primary me-2"></i>
                                            Admissions Information
                                        </a>
                                        <a href="/faq" class="list-group-item list-group-item-action">
                                            <i class="fa fa-question text-info me-2"></i>
                                            Frequently Asked Questions
                                        </a>
                                        <a href="/downloads" class="list-group-item list-group-item-action">
                                            <i class="fa fa-download text-success me-2"></i>
                                            Download Forms
                                        </a>
                                        <a href="/events" class="list-group-item list-group-item-action">
                                            <i class="fa fa-calendar-alt text-warning me-2"></i>
                                            Upcoming Events
                                        </a>
                                        <a href="/campus-tour" class="list-group-item list-group-item-action">
                                            <i class="fa fa-map-marked-alt text-danger me-2"></i>
                                            Virtual Campus Tour
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Google Maps Placeholder -->
                    <div class="row mt-5">
                        <div class="col-12">
                            <div class="card shadow-sm">
                                <div class="card-header bg-dark text-white">
                                    <h5 class="mb-0">
                                        <i class="fa fa-map-marked-alt me-2"></i>
                                        Find Us on Map
                                    </h5>
                                </div>
                                <div class="card-body p-0">
                                    <div class="bg-secondary text-white text-center py-5" style="min-height: 300px;">
                                        <i class="fa fa-map fa-4x mb-3"></i>
                                        <h4>University Location Map</h4>
                                        <p class="mb-0">Interactive map will be displayed here</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Departments Contact -->
                    <div class="row mt-5">
                        <div class="col-12">
                            <h3 class="text-center mb-4">
                                <i class="fa fa-building me-2"></i>
                                Department Contacts
                            </h3>
                            <div class="row">
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 text-center">
                                        <div class="card-body">
                                            <i class="fa fa-laptop-code fa-3x text-primary mb-3"></i>
                                            <h5>Computer Science</h5>
                                            <p class="text-muted small mb-0">
                                                cs@university.edu<br/>
                                                Ext: 101
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 text-center">
                                        <div class="card-body">
                                            <i class="fa fa-flask fa-3x text-success mb-3"></i>
                                            <h5>Science</h5>
                                            <p class="text-muted small mb-0">
                                                science@university.edu<br/>
                                                Ext: 102
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 text-center">
                                        <div class="card-body">
                                            <i class="fa fa-balance-scale fa-3x text-info mb-3"></i>
                                            <h5>Business</h5>
                                            <p class="text-muted small mb-0">
                                                business@university.edu<br/>
                                                Ext: 103
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 text-center">
                                        <div class="card-body">
                                            <i class="fa fa-paint-brush fa-3x text-warning mb-3"></i>
                                            <h5>Arts</h5>
                                            <p class="text-muted small mb-0">
                                                arts@university.edu<br/>
                                                Ext: 104
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- JavaScript for Form Validation -->
            <script>
                // Form validation
                (function() {
                    'use strict';

                    // Fetch all the forms we want to apply custom Bootstrap validation styles to
                    var forms = document.querySelectorAll('#contact-form');

                    // Loop over them and prevent submission
                    Array.prototype.slice.call(forms).forEach(function(form) {
                        form.addEventListener('submit', function(event) {
                            if (!form.checkValidity()) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                            form.classList.add('was-validated');
                        }, false);
                    });

                    // Character counter for message
                    var messageTextarea = document.getElementById('description');
                    var charCount = document.createElement('div');
                    charCount.className = 'form-text text-end mt-1';
                    charCount.innerHTML = '<span id="char-count">0</span>/500 characters';
                    messageTextarea.parentNode.appendChild(charCount);

                    messageTextarea.addEventListener('input', function() {
                        var count = this.value.length;
                        document.getElementById('char-count').textContent = count;

                        if (count > 500) {
                            this.classList.add('is-invalid');
                            charCount.classList.add('text-danger');
                        } else {
                            this.classList.remove('is-invalid');
                            charCount.classList.remove('text-danger');
                        }
                    });
                })();
            </script>
        </t>
    </template>

    <!-- Contact Success Page -->
    <template id="contact_success_page" name="Contact Success Page">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <div class="container mt-5">
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <div class="card border-success">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0">
                                        <i class="fa fa-check-circle me-2"></i>
                                        Message Sent Successfully!
                                    </h5>
                                </div>
                                <div class="card-body text-center py-5">
                                    <i class="fa fa-check-circle text-success fa-4x mb-4"></i>
                                    <h3 class="mb-3">Thank You!</h3>
                                    <p class="lead mb-4">
                                        Your message has been received successfully.
                                        Our team will get back to you within 24-48 hours.
                                    </p>
                                    <div class="alert alert-info">
                                        <i class="fa fa-info-circle me-2"></i>
                                        <strong>Note:</strong> A confirmation email has been sent to your provided email address.
                                    </div>
                                    <div class="d-grid gap-2 d-md-block mt-4">
                                        <a href="/" class="btn btn-primary me-2">
                                            <i class="fa fa-home me-2"></i>
                                            Back to Home
                                        </a>
                                        <a href="/contact" class="btn btn-outline-secondary">
                                            <i class="fa fa-envelope me-2"></i>
                                            Send Another Message
                                        </a>
                                    </div>
                                    <div class="mt-4">
                                        <p class="text-muted small">
                                            For urgent matters, please call our helpdesk at <strong>+1 (123) 456-7890</strong>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- Contact Error Page -->
    <template id="contact_error_page" name="Contact Error Page">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure">
                <div class="container mt-5">
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <div class="card border-danger">
                                <div class="card-header bg-danger text-white">
                                    <h5 class="mb-0">
                                        <i class="fa fa-exclamation-triangle me-2"></i>
                                        Error Sending Message
                                    </h5>
                                </div>
                                <div class="card-body text-center py-5">
                                    <i class="fa fa-times-circle text-danger fa-4x mb-4"></i>
                                    <h3 class="mb-3">Oops! Something Went Wrong</h3>
                                    <p class="lead mb-4" t-esc="error or 'There was an error sending your message. Please try again.'"/>

                                    <div class="alert alert-warning mt-4">
                                        <i class="fa fa-lightbulb me-2"></i>
                                        <strong>Tips:</strong>
                                        <ul class="mb-0 text-start">
                                            <li>Please check your internet connection</li>
                                            <li>Make sure all required fields are filled correctly</li>
                                            <li>Try using a different browser</li>
                                        </ul>
                                    </div>

                                    <div class="d-grid gap-2 d-md-block mt-4">
                                        <a href="/contact" class="btn btn-primary me-2">
                                            <i class="fa fa-arrow-left me-2"></i>
                                            Back to Contact Form
                                        </a>
                                        <a href="mailto:support@university.edu" class="btn btn-outline-danger">
                                            <i class="fa fa-envelope me-2"></i>
                                            Email Support Directly
                                        </a>
                                    </div>

                                    <div class="mt-4">
                                        <p class="text-muted small">
                                            If the problem persists, please contact our technical support at
                                            <strong>support@university.edu</strong> or call <strong>+1 (123) 456-7899</strong>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>